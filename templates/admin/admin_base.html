<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block admin_title %}–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="admin-sidebar-header">
                <div class="admin-sidebar-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</div>
                <div class="admin-sidebar-subtitle">–§–æ—Ä—É–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
            </div>
            
            <nav>
                <ul class="admin-nav">
                    <li class="admin-nav-item">
                        <a href="{{ url_for('admin_dashboard') }}" class="admin-nav-link {% if request.endpoint == 'admin_dashboard' %}active{% endif %}">
                            <span class="admin-nav-icon">üìä</span>
                            –î–∞—à–±–æ—Ä–¥
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="{{ url_for('admin_users') }}" class="admin-nav-link {% if request.endpoint == 'admin_users' %}active{% endif %}">
                            <span class="admin-nav-icon">üë•</span>
                            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="{{ url_for('admin_topics') }}" class="admin-nav-link {% if request.endpoint == 'admin_topics' %}active{% endif %}">
                            <span class="admin-nav-icon">üí¨</span>
                            –¢–µ–º—ã
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="{{ url_for('admin_posts') }}" class="admin-nav-link {% if request.endpoint == 'admin_posts' %}active{% endif %}">
                            <span class="admin-nav-icon">üìù</span>
                            –°–æ–æ–±—â–µ–Ω–∏—è
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="{{ url_for('admin_categories') }}" class="admin-nav-link {% if request.endpoint == 'admin_categories' %}active{% endif %}">
                            <span class="admin-nav-icon">üìÇ</span>
                            –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <div>
                    <button class="admin-mobile-menu" onclick="toggleSidebar()">‚ò∞</button>
                    <h1 class="admin-header-title">{% block admin_page_title %}–î–∞—à–±–æ—Ä–¥{% endblock %}</h1>
                </div>
                <div class="admin-header-actions">
                    <a href="{{ url_for('index') }}" class="btn" target="_blank">–ù–∞ —Å–∞–π—Ç</a>
                </div>
            </header>

            <!-- Flash messages -->
            <div class="flash-messages">
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="flash-message flash-{{ category }}">
                                <span class="flash-icon">
                                    {% if category == 'success' %}
                                        ‚úì
                                    {% elif category == 'error' %}
                                        ‚úï
                                    {% elif category == 'warning' %}
                                        ‚ö†
                                    {% elif category == 'info' %}
                                        ‚Ñπ
                                    {% else %}
                                        ‚Ä¢
                                    {% endif %}
                                </span>
                                <span class="flash-text">{{ message }}</span>
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>

            <!-- Content -->
            {% block admin_content %}{% endblock %}
        </main>
    </div>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('adminSidebar');
            sidebar.classList.toggle('mobile-open');
        }
    </script>

    {% block admin_scripts %}{% endblock %}
</body>
</html>