{% extends "admin/admin_base.html" %}

{% block admin_title %}–î–∞—à–±–æ—Ä–¥ - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å{% endblock %}
{% block admin_page_title %}–î–∞—à–±–æ—Ä–¥{% endblock %}

{% block admin_content %}
<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div class="admin-stats-grid">
    <div class="admin-stat-card">
        <div class="admin-stat-number">{{ stats.posts }}</div>
        <div class="admin-stat-label">–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π</div>
    </div>
    <div class="admin-stat-card">
        <div class="admin-stat-number">{{ stats.topics }}</div>
        <div class="admin-stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç–µ–º</div>
    </div>
    <div class="admin-stat-card">
        <div class="admin-stat-number">{{ stats.users }}</div>
        <div class="admin-stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
    </div>
</div>

<!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
<div class="admin-quick-actions">
    <a href="{{ url_for('admin_users') }}" class="admin-quick-action">
        <span class="admin-quick-action-icon">üë•</span>
        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    </a>
    <a href="{{ url_for('admin_categories') }}" class="admin-quick-action">
        <span class="admin-quick-action-icon">üìÇ</span>
        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
    </a>
    <a href="{{ url_for('admin_settings') }}" class="admin-quick-action">
        <span class="admin-quick-action-icon">‚öôÔ∏è</span>
        –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–æ—Ä—É–º–∞
    </a>
</div>

<div class="flex gap-6">
    <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
    <div style="flex: 1;">
        <div class="admin-card">
            <div class="admin-card-header">
                <h3 class="admin-card-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                <a href="{{ url_for('admin_users') }}" class="btn">–í—Å–µ</a>
            </div>
            <div class="admin-card-body">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                            <th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in stats.user_limit %}
                        <tr>
                            <th>{{ user.username }}</th>
                            <th>{{ user.created_at }}</th>
                            <th><span class="admin-badge admin-badge-success">{{ 'online' }}</span></th>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–µ–º—ã -->
    <div style="flex: 1;">
        <div class="admin-card">
            <div class="admin-card-header">
                <h3 class="admin-card-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–µ–º—ã</h3>
                <a href="{{ url_for('admin_topics') }}" class="btn">–í—Å–µ</a>
            </div>
            <div class="admin-card-body">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>–¢–µ–º–∞</th>
                            <th>–ê–≤—Ç–æ—Ä</th>
                            <th>–û—Ç–≤–µ—Ç—ã</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for topic in stats.topics_limit %}
                        <tr>
                            <th>{{ topic.title }}</th>
                            <th>{{ topic.author }}</th>
                            <th><span class="admin-badge admin-badge-success">{{ 'online' }}</span></th>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %}